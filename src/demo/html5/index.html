<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ARAICYP Client</title>
<link type="text/css" href="css/player.araicyp.css" rel="stylesheet" />
<link type="text/css" href="css/jplayer.blue.monday.araicyp.css"
	rel="stylesheet" />
<script type="text/javascript" src="js/araicyp.js"></script>
<script type="text/javascript" src="js/player.araicyp.js"></script>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.jplayer.min.js"></script>
<script type="text/javascript">
	/** host of streaming server*/
	var host = "democast.ybrid.io";

	/** path of requested stream*/
	var path = "stream.mp3";

	var sessionId = null;

	$(document)
			.ready(
					function() {

						var stream = {
							title : "",
							mp3 : "http://" + host + "/" + path
						};
						ready = false;

						$("#jquery_jplayer_1")
								.jPlayer(
										{
											ready : function() {
												ready = true;
												createSession(
														host,
														path,
														function(sessionIdVal) {
															sessionId = sessionIdVal;
															stream.mp3 += "?sessionId="
																	+ sessionId;
															$(this).jPlayer(
																	"setMedia",
																	stream);
															startSwapInfoWatcher(
																	host, path,
																	sessionId);
														});
											},
											pause : function() {
												$(this).jPlayer("clearMedia");
											},
											error : function(event) {
												if (ready
														&& event.jPlayer.error.type === $.jPlayer.error.URL_NOT_SET) {
													// Setup the media stream again and play it.
													$(this).jPlayer("setMedia",
															stream).jPlayer(
															"play");
												}
											},
											cssSelectorAncestor : "#jp_container_1",
											solution : "html",
											supplied : "mp3",
											preload : "none",
											wmode : "window",
											useStateClassSkin : true,
											autoBlur : false,
											smoothPlayBar : true,
											keyEnabled : true,
											remainingDuration : false,
											toggleDuration : false
										});
					});
</script>
</head>
<body>
	<div id="overlay">
		<div id="loader"></div>
	</div>
	<div id="araicyp-container" class="araicyp-container">
		<h1>Hybrid Dynamic Live Stream</h1>
		<h2>Test&nbsp;Client</h2>
		<!-- 		<p>Bla</p> -->
		<div id="jquery_jplayer_1" class="jp-jplayer"></div>
		<div id="jp_container_1" class="jp-audio-stream" role="application"
			aria-label="media player">
			<div class="jp-type-single">
				<div class="jp-gui jp-interface">
					<div class="jp-controls">
						<button class="jp-play" role="button" tabindex="0">play</button>
						<button class="jp-next" role="button" tabindex="0"
							onclick="swapButtonClicked();">next</button>
					</div>
					<div class="jp-volume-controls">
						<button class="jp-mute" role="button" tabindex="0">mute</button>
						<button class="jp-volume-max" role="button" tabindex="0">max
							volume</button>
						<div class="jp-volume-bar">
							<div class="jp-volume-bar-value"></div>
						</div>
					</div>
					<!-- 				<div class="jp-time-holder"> -->
					<!-- 					<div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div> -->
					<!-- 					<div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div> -->
					<!-- 					<div class="jp-toggles"> -->
					<!-- 						<button class="jp-repeat" role="button" tabindex="0">repeat</button> -->
					<!-- 					</div> -->
					<!-- 				</div> -->
				</div>
				<!-- 				<div class="jp-details"> -->
				<!-- 					<div class="jp-title" aria-label="title">&nbsp;</div> -->
				<!-- 					<div class="jp-artist" aria-label="artist">&nbsp;</div> -->
				<!-- 				</div> -->
				<div class="jp-no-solution">
					<span>Update Required</span> To play the media you will need to
					update your browser to a recent version.
				</div>

			</div>
		</div>
	</div>
</body>
</html>